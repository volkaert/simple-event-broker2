server.port = 8089
spring.application.name = Catalog

eureka.instance.instance-id = ${spring.cloud.client.hostname}:${spring.application.name}:${server.port}:${random.value}
eureka.instance.leaseRenewalIntervalInSeconds = 5
eureka.instance.leaseExpirationDurationInSeconds = 10
eureka.client.serviceUrl.defaultZone = http://localhost:8761/eureka/
#eureka.client.healthcheck.enabled = true

broker.catalog-url = http://localhost:8099
broker.auth-client-id-for-catalog = some-client-id-for-catalog
broker.auth-client-secret-for-catalog = some-client-secret-for-catalog

spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=sa
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
#spring.datasource.url=jdbc:h2:file:/data/catalog
#spring.jpa.generate-ddl=true

# H2 console will ba accessible at http://localhost:{server.port}/h2-console
spring.h2.console.enabled=true

# Useful for metrics (to group them by component type)
broker.component-type-name = Catalog

# Useful for metrics (to distinguish instances of the same component type)
broker.component-instance-id = ${eureka.instance.instance-id}
#broker.component-instance-id = ${broker.component-type-name}-localhost-${server.port}

broker.auth-client-id = some-client-id-for-catalog
# the following secret has been encoded using https://www.devglan.com/online-tools/bcrypt-hash-generator
broker.auth-client-secret = $2a$04$yDBdUN7Pi39qXev1v90LFeiTND0EsflnYuNqESvDXAGlUq.brsjTG

# Graceful Shutdown (requires Spring Boot >= 2.3.x)
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=5s

# Actuator endpoints
management.endpoints.web.exposure.include=*
management.health.probes.enabled = true
management.endpoint.health.show-details = always
management.endpoint.health.show-components = always
management.endpoint.health.group.liveness.include = livenessState,catalogLiveness
management.endpoint.health.group.readiness.include = readinessState,catalogReadiness
#management.endpoint.health.roles = ADMIN
